<!DOCTYPE html>
<!-- 在计时器的回调函数中使用闭包 -->
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="box1" style="position: fixed;">First Box</div>
    <div id="box2" style="position: fixed;">Second Box</div>
</body>
<script src="./utils.js"></script>
<script>
    function animateIt(elementId) {
        var elem = document.getElementById(elementId);
        var tick = 0;
        var timer = setInterval(() => {
            if (tick < 100) {
                elem.style.left = elem.style.top = tick + "px";
                tick++;
            }else{
                clearInterval(timer);
                assert(tick===100,"Tick accessed via a closure.");
                assert(elem,"Element also accessed via a closure.");
                assert(timer,"Timer reference also obtained via a closure.");
                
            }
        }, 10);
    }

    animateIt("box1");
    animateIt("box2");
</script>

</html>